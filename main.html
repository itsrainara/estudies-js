<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documenttt</title>
  </head>
  <body>
    oi
    <script>
      // Nullish Coalescing Operator (Operador para lidar com valores nulos)

      // 0, '', [], false, undefined, null => falsy (valores nao validos quando usa o operador ||)
      //?? vai procurar valores que realmente não são validos, ex: null, undifined. ou valores nao tao significativos.

      var idade = 0

      document.body.innerText = 'sua idade é: ' + (idade ?? 'não informado')

      //Objects
      const user = {
        name: 'rainara',
        nickname: 'carlos',
        age: 20,
        address: {
          city: 'São Paulo',
          number: 482
        }
      }
      //a expressão 'in' permite verificar se há uma informação dentro de um objeto
      document.body.innerText = 'name' in user
      //O Object retorna algo, com o JSON, troquei a informação para string, deixando em um melhor formato
      //o entries retorna em vetores [], com a chave e o valor dela dentro.
      document.body.innerText = JSON.stringify(Object.entries(user))

      // DESESTRUTURAÇÃO => remover parte de um objeto para uma variavel a parte
      // basta usar as chaves antes do sinal de igual, e consigo alterar o valor tambem
      //const { address, age: idade } = user
      // coloquei dentro de um objeto, para imprimir os dois
      //document.body.innerText = JSON.stringify({ address, idade })

      // usando o valor The flow
      // adicionei um valor reserva caso nao tenha nada no nickname
      const { address, age: idade, nickname = 'roberta' } = user

      document.body.innerText = JSON.stringify({ address, idade, nickname })

      // A DESESTRUTURAÇÃO PODE SER USADA EM TODO LUGAR QUE TENHA REFERENCIA P/ UM OBJETO

      const dados = {
        name: 'ana',
        age: 23,
        nickname: 'aninha',
        address: {
          city: Campinas,
          number: 505
        }
      }
      // coloquei chaves (poderia ser sem), para especificar o que eu queria pegar do objeto, nao sendo necessario mais o uso do "return dados.age"
      function mostrarIdade({ age }) {
        return age
      }

      document.body.innerText = mostrarIdade(age)

      // REST OPERATOR (desestruturação com rest)
      // imprime apenas o resto do codigo, o que estiver antes de rest, nao sera imprimido
      const resto {name, ...rest} = dados

      document.body.innerText = JSON.stringify(rest)

      // tambem conseguimos usar o rest nao só p/ objetos, como tambem para arrays
      const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
      // poderia fazer assim, mudando o índice para qualqueira buscar do array
      // const first = array[0]
      // document.body.innerText = JSON.stringify(first)

      // com desestruturação
      const [first, second, ...rest] = array

      document.body.innerText = JSON.stringify(first, second, rest)

      // caso queira pular algum numero do array, deixaria o espaço entre as virgulas vazio.
      // const [first, , third ...rest] = array

      // document.body.innerText = JSON.stringify(first, third, rest)

      // UTILIZANDO A SHORT SINTAXE (sintaxe curta)
      const name = 'rai';
      const age = 20;
      // vou colocar o nome da variavel const dentro do objeto, e o js vai reconhecer o valor dessa propriedade, que vem da const
      const usuario = {
        name,
        age
      }

      document.body.innerText = JSON.stringify(usuario)

      //OPTIONAL CHAINING
      const dados = {
        name: 'Mariana',
        age: 23,
        nickname: 'Mariana',
        address: {
          city: Campinas,
          number: 505
          zip: {
          code: 90923290
          }
          showFullAdress () {
            return 'ok'
          }
        }
      }
      //quero verificar se existe um endereço (?), se existir mostrar a cidade. se não existir, mostrar 'não informado'. caso o codigo esteja comentado por exemplo, estaria lidando com erro. SEM USAR O OPTIONAL CHAINING
      // document.body.innerText = dados.address ? user.adress.city : 'Não informado'

      // COM O OPTIONAL CHAINING
      // uso o ?. como um 'se', se existir endereço, mostrar o zip(caso nao encontre o address, nao vai mais acessar o restante), se o zip existir, mostrar o code. se nao existir, mostrar o 'não informado'
      document.body.innerText = dados.adress?.zip?.code ?? 'Não informado'

      // caso haja uma função dentro do objeto
      // posso colocar ?. antes dos parenteses da dunção para nao haver erro. ou seja, so vai chamar essa função caso ela exista.
      document.body.innerText = dados.adress?.showFullAdress?.()

      //caso queira pegar um valor de uma variavel em outra variavel
      const key = 'name'
      //colocar entre colchetes que quero a variavel key, que tem o valor de nome da variavel dados. entao mostrara o nome Mariana
      document.body.innerText = dados[key]

      // MÉTODOS DE ARRAY

    </script>
  </body>
</html>
